{"version":3,"sources":["shared/model/index.ts","config.js","shared/model/events/index.ts","shared/model/events/CheckRoomExists.ts","shared/model/events/CreateRoom.ts","shared/model/events/JoinUser.ts","shared/model/events/AttendeeVoted.ts","shared/model/events/RevealVotes.ts","shared/model/events/ResetRoom.ts","shared/model/Attendee.ts","shared/model/ChartPoint.ts","shared/model/Vote.ts","shared/model/VotingStatus.ts","shared/model/Toast.ts","app/hooks/useWebSocketSubjects.ts","shared/model/events/EventType.ts","theme-controller/ThemeController.tsx","theme-controller/hooks/useTheme.ts","app/container/BoxMargin.tsx","app/container/hooks/useStyles.ts","app/container/Container.tsx","app/home/GridItem.tsx","app/home/hooks/useStyles.tsx","app/home/Home.tsx","app/hooks/events-callback/useEventsCallback.ts","app/hooks/events-callback/useAttendeeVotedCallback.ts","app/hooks/events-callback/useRoomCreatedCallback.ts","app/hooks/events-callback/useUserCreatedCallback.ts","app/hooks/events-callback/useCheckRoomExistsCallback.ts","app/hooks/events-callback/useMaxUsersReachedCallback.ts","app/hooks/events-callback/useUserJoinedCallback.ts","app/hooks/events-callback/useUserDroppedCallbac.ts","app/hooks/events-callback/useRevealVotesCallback.ts","app/hooks/events-callback/useResetRoomCallback.ts","app/hooks/useSubscriptions.ts","app/hooks/useWebSocketCallbacks.ts","shared/hooks/useUpdateState.tsx","app/room/attendees/attendee/slider/hooks/useStyles.ts","app/room/attendees/attendee/slider/Slider.tsx","app/room/attendees/attendee/hooks/useStyles.ts","app/room/attendees/attendee/Attendee.tsx","app/room/attendees/Attendees.tsx","app/room/controls/Controls.tsx","app/room/controls/hooks/useButtonsCallback.ts","app/room/effort-value-chart/hooks/useOnMouseMoveCallback.ts","shared/hooks/useThrottledState.tsx","app/room/effort-value-chart/hooks/useStyles.tsx","app/room/effort-value-chart/constants.ts","app/room/effort-value-chart/TooltipRenderer.tsx","app/room/effort-value-chart/VotesLabel.tsx","app/room/effort-value-chart/EffortValueChart.tsx","app/room/effort-value-chart/hooks/usePoints.ts","app/room/effort-value-chart/hooks/useOnClickCallback.ts","app/room/effort-value-chart/hooks/useCreateMeanPoint.ts","app/room/Room.tsx","app/room/hooks/useEventsCallback.ts","app/Title.tsx","app/App.tsx","app/hooks/useStateData.ts","index.tsx"],"names":["config","backendUri","buildCheckRoomExists","room","type","EventType","CheckRoomExists","payload","buildCreateRoomEvent","user","CreateRoom","buildJoinUserEvent","JoinUser","buildAttendeeVotedEvent","attendee","AttendeeVoted","buildRevealVotesEvent","RevealVotes","buildResetRoomEvent","ResetRoom","sortByJoinedAtWithCurrentUserFirst","attendees","sort","first","second","id","joinedAt","removeUserFromAttendees","length","filter","retrieveAttendeeForUser","createChartPoint","effort","vote","value","label","icon","roundChartPoint","x","y","Math","round","createVote","VotingStatus","ToastType","useWebSocketSubjects","useState","$connected","Subject","$in","$out","$toast","webSocketSubjects","console","log","configuration","client","W3CWebSocket","onopen","next","onclose","onmessage","message","data","Buffer","ArrayBuffer","Error","JSON","parse","createClient","useEffect","subscribe","event","send","stringify","ThemeController","darkMode","children","prefersDarkMode","useMediaQuery","theme","useMemo","createMuiTheme","palette","primary","main","secondary","ThemeProvider","CssBaseline","BoxMargin","Box","component","Grid","display","md","xs","useStyles","makeStyles","createStyles","container","padding","Container","styles","alignItems","justify","spacing","className","item","GridItem","direction","joinRooomButton","marginTop","Home","connected","subjects","roomNumber","setRoomNumber","history","useHistory","joinRoom","useCallback","push","validateRoomNumber","roomNum","isNaN","parseInt","classes","joinRoomButtonDisabled","style","flexGrow","TextField","inputProps","maxLength","onChange","target","Button","variant","color","disabled","onClick","Typography","useEventsCallback","params","attendeeVotedCallback","setData","previousState","votingStatus","useAttendeeVotedCallback","roomCreatedCallback","useRoomCreatedCallback","userCreatedCallback","useUserCreatedCallback","checkRoomExistsCallback","exists","undefined","useCheckRoomExistsCallback","maxUsersReachedCallback","useMaxUsersReachedCallback","userJoinedCallback","roomAttendee","find","att","useUserJoinedCallback","userDroppedCallback","remainingAttendees","useUserDroppedCallback","revealVotesCallback","Closed","useRevealVotesCallback","resetRoomCallback","useResetRoomCallback","callbacks","UserCreated","RoomCreated","UserDropped","UserJoined","MaxUsersReached","callback","toastOptions","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","useSubscriptions","subscriptions","setSubscriptions","connectionCallback","WARNING","ERROR","useWebSocketCallbacks","eventsCallback","toastsCallback","toast","INFORMATION","showToast","info","error","warn","events","unsubscribe","connection","toasts","useUpdateState","deps","updateState","muiSlider","typography","fontSize","muiSliderGridItem","Slider","hide","align","marks","min","max","defaultValue","String","attendeeCard","flexDirection","justifyContent","attendeeCardContent","minHeight","paddingBottom","currentUser","background","dark","currentUserVoted","lighten","otherUserVoted","paper","iconTypography","Attendee","hideSlider","Open","cardClassName","Card","CardContent","alignContent","Attendees","map","index","Controls","onResetButtonClick","onRevealButtonClick","useButtonsCallback","noVotes","useOnMouseMoveCallback","initialState","fps","leading","state","unthrottledSetState","useThrottleCallback","useThrottledState","suggestedPoint","setSuggestedPoint","props","xValue","yValue","responsiveContainer","borderRadius","grey","domainValues","mediumPoint","domainLimits","axisTicks","Array","from","_","TooltipRenderer","active","points","hoveredPoint","hoveredLabels","point","itemsPerLine","sqrt","tooltipContent","reduce","acc","backgroundColor","letterSpacing","whiteSpace","VotesLabel","width","height","fill","textAnchor","dominantBaseline","EffortValueChart","useTheme","usePoints","onMouseMoveCallback","onClickCallback","useOnClickCallback","createMeanPoint","mean","ResponsiveContainer","aspect","ScatterChart","margin","top","bottom","left","right","onMouseMove","XAxis","dataKey","axisLine","ticks","domain","stroke","YAxis","ReferenceLine","strokeWidth","CartesianGrid","strokeDasharray","Scatter","isAnimationActive","strokeOpacity","LabelList","content","shape","rotate","fillOpacity","Tooltip","Room","eventsSubscription","setEventsSubscription","roomId","useParams","roomOwner","userAttendee","Title","textDecoration","textShadow","App","dataState","useDataState","path","render","document","getElementById"],"mappings":"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","file":"static/js/main.73b5b313.chunk.js","sourcesContent":["export * from './Room';\nexport * from './User';\nexport * from './events';\nexport * from './Attendee';\nexport * from './Data';\nexport * from './ChartEventProps';\nexport * from './ChartPoint';\nexport * from './Vote';\nexport * from './VotingStatus';\nexport * from './Toast';\n","const local = {\n  backendUri: 'ws://localhost:8080/pitanga'\n};\n\nconst production = {\n  backendUri: 'ws://marceloleite2604-pitanga.herokuapp.com/pitanga'\n};\n\nconst config = process.env.REACT_APP_STAGE === 'production' ? production : local;\n\nexport default {\n  ...config\n};\n","export * from './Event';\nexport * from './EventType';\nexport * from './CheckRoomExists';\nexport * from './CreateRoom';\nexport * from './CreateUser';\nexport * from './JoinUser';\nexport * from './MaxRoomsReached';\nexport * from './MaxRoomUsersReached';\nexport * from './MaxUsersReached';\nexport * from './RoomCreated';\nexport * from './UserCreated';\nexport * from './UserDropped';\nexport * from './UserJoined';\nexport * from './AttendeeVoted';\nexport * from './RevealVotes';\nexport * from './ResetRoom';\n","import { Room } from '..';\nimport { Event } from './Event';\nimport { EventType } from './EventType';\n\nexport interface CheckRoomExistsPayload {\n  room: Room,\n  exists?: boolean\n}\n\nexport interface CheckRoomExistsEvent extends Event<EventType.CheckRoomExists, CheckRoomExistsPayload> { }\n\nexport function buildCheckRoomExists(room: Room) {\n  return {\n    type: EventType.CheckRoomExists,\n    payload: {\n      room\n    }\n  } as CheckRoomExistsEvent;\n}\n","import { User } from '..';\nimport { Event } from './Event';\nimport { EventType } from './EventType';\n\nexport interface CreateRoomPayload {\n  user: User\n}\n\nexport interface CreateRoomEvent extends Event<EventType.CreateRoom, CreateRoomPayload> { }\n\nexport function buildCreateRoomEvent(user: User) {\n  return {\n    type: EventType.CreateRoom,\n    payload: {\n      user\n    }\n  } as CreateRoomEvent;\n}\n","import { User, Room } from '..';\nimport { Event } from './Event';\nimport { EventType } from './EventType';\n\nexport interface JoinUserPayload {\n  room: Room,\n  user: User\n}\n\nexport interface JoinUserEvent extends Event<EventType.JoinUser, JoinUserPayload> { }\n\nexport function buildJoinUserEvent(user: User, room: Room) {\n  return {\n    type: EventType.JoinUser,\n    payload: {\n      user,\n      room\n    }\n  } as JoinUserEvent;\n}\n","import { Attendee } from '..';\nimport { VotingStatus } from '../VotingStatus';\nimport { Event } from './Event';\nimport { EventType } from './EventType';\n\nexport interface AttendeeVotedPayload {\n  attendee: Attendee,\n  votingStatus: VotingStatus\n}\n\nexport interface AttendeeVotedEvent extends Event<EventType.AttendeeVoted, AttendeeVotedPayload> { }\n\nexport function buildAttendeeVotedEvent(attendee: Attendee) {\n  return {\n    type: EventType.AttendeeVoted,\n    payload: {\n      attendee\n    }\n  } as AttendeeVotedEvent;\n}\n","import { Event } from './Event';\nimport { EventType } from './EventType';\n\nexport interface RevealVotesEvent extends Event<EventType.RevealVotes> { }\n\nexport function buildRevealVotesEvent() {\n  return {\n    type: EventType.RevealVotes\n  } as RevealVotesEvent;\n}\n","import { Room } from '../Room';\nimport { Event } from './Event';\nimport { EventType } from './EventType';\n\nexport interface ResetRoomPayload {\n  room: Room\n}\n\nexport interface ResetRoomEvent extends Event<EventType.ResetRoom, ResetRoomPayload> {\n}\n\nexport function buildResetRoomEvent() {\n  return {\n    type: EventType.ResetRoom\n  } as ResetRoomEvent;\n}\n","import { ChartPoint } from './ChartPoint';\nimport { User } from './User';\nimport { Vote } from './Vote';\n\nexport interface Attendee {\n  user: User,\n  icon: string,\n  joinedAt: number,\n  roomOwner: boolean\n  vote?: Vote\n}\n\nexport const sortByJoinedAtWithCurrentUserFirst = (attendees: Attendee[], user: User) => {\n  return attendees.sort((first, second) => {\n    if (first.user.id === user.id) {\n      return -1;\n    }\n\n    if (second.user.id === user.id) {\n      return 1;\n    }\n\n    return first.joinedAt - second.joinedAt;\n  });\n};\n\nexport const removeUserFromAttendees = (user: User, attendees: Attendee[]) => {\n  if (attendees.length === 0 || !user) {\n    return attendees;\n  }\n\n  return attendees.filter(attendee => attendee.user.id !== user.id);\n};\n\nexport const retrieveAttendeeForUser = (attendees: Attendee[], user: User) => {\n  if (attendees.length === 0 || !user) {\n    return undefined;\n  }\n\n  return attendees.filter(attendee => attendee.user.id === user.id)[0];\n};\n\nexport const createChartPoint = (attendee: Attendee) => {\n  return {\n    effort: attendee.vote?.effort,\n    value: attendee.vote?.value,\n    label: attendee.icon\n  } as ChartPoint;\n};\n","export interface ChartPoint {\n  value: number,\n  effort: number,\n  label: string\n}\n\nexport const roundChartPoint = (x: number, y: number, label?: string) => {\n  return {\n    value: Math.round(x),\n    effort: Math.round(y),\n    label\n  } as ChartPoint;\n};\n","export interface Vote {\n  effort: number,\n  value: number\n};\n\nexport const createVote = (x: number, y: number) => {\n  return {\n    value: Math.round(x),\n    effort: Math.round(y)\n  } as Vote;\n};\n","export enum VotingStatus {\n  Open = 'open',\n  Closed = 'closed'\n}\n","export enum ToastType {\n  INFORMATION = 'info',\n  SUCCESS = 'success',\n  WARNING = 'warn',\n  ERROR = 'error'\n}\n\nexport interface Toast {\n  message: string,\n  type?: ToastType\n}\n","import { useEffect, useState } from 'react';\nimport { Subject } from 'rxjs';\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\nimport configuration from '../../config';\nimport { Event, WebSocketSubjects, Toast } from '../../shared/model';\n\nfunction createClient(webSocketSubjects: WebSocketSubjects) {\n  console.log(`Connecting with ${configuration.backendUri}.`);\n  const client = new W3CWebSocket(configuration.backendUri);\n  client.onopen = () => {\n    webSocketSubjects.$connected.next(true);\n  };\n\n  client.onclose = () => {\n    webSocketSubjects.$connected.next(false);\n  };\n\n  client.onmessage = (message) => {\n    if (message.data instanceof Buffer || message.data instanceof ArrayBuffer) {\n      throw new Error('Unsuported message data type.');\n    }\n\n    const data = JSON.parse(message.data) as Event;\n    webSocketSubjects.$in.next(data);\n  };\n\n  return client;\n}\n\nexport const useWebSocketSubjects = () => {\n\n  const [webSocketSubjects] = useState<WebSocketSubjects>({\n    $connected: new Subject<boolean>(),\n    $in: new Subject<Event>(),\n    $out: new Subject<Event>(),\n    $toast: new Subject<Toast>()\n  });\n\n  const [client] = useState(() => createClient(webSocketSubjects));\n\n  useEffect(() => {\n    webSocketSubjects.$out.subscribe(event => {\n      console.log(`Sending event \"${event.type}\"`);\n      client.send(JSON.stringify(event));\n    });\n  }, []);\n\n  return webSocketSubjects;\n};\n","export enum EventType {\n  CreateUser = 'create-user',\n  UserCreated = 'user-created',\n  MaxUsersReached = 'max-users-reached',\n  JoinUser = 'join-user',\n  UserJoined = 'user-joined',\n  MaxRoomUsersReached = 'max-room-users-reached',\n  CreateRoom = 'create-room',\n  RoomCreated = 'room-created',\n  MaxRoomsReached = 'max-rooms-reached',\n  CheckRoomExists = 'check-room-exists',\n  UserDropped = 'user-dropped',\n  AttendeeVoted = 'attendee-voted',\n  ResetRoom = 'reset-room',\n  RevealVotes = 'reveal-votes'\n}\n\n// export type EventType =\n//   'create-user' |\n//   'user-created' |\n//   'max-users-reached' |\n//   'join-user' |\n//   'user-joined' |\n//   'max-room-users-reached' |\n//   'create-room' |\n//   'room-created' |\n//   'max-rooms-reached' |\n//   'check-room-exists' |\n//   'user-dropped' |\n//   'attendee-voted' |\n//   'reset-room' |\n//   'reveal-votes';\n","import { FC } from 'react';\nimport { ThemeProvider, useMediaQuery, CssBaseline } from '@material-ui/core';\nimport { useTheme } from './hooks';\n\nexport const ThemeController: FC = ({ children }) => {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const theme = useTheme(prefersDarkMode);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      {children}\n    </ThemeProvider>\n  );\n};\n","import { useMemo } from 'react';\nimport { createMuiTheme } from '@material-ui/core';\n\nexport const useTheme = (darkMode: boolean) => {\n  return useMemo(() => createMuiTheme({\n    palette: {\n      type: darkMode ? 'dark' : 'light',\n      primary: {\n        main: '#9fdc93'\n      },\n      secondary: {\n        main: '#C0A287'\n      }\n    }\n  }), [darkMode]);\n};\n","import { Box, Grid } from '@material-ui/core';\n\nexport const BoxMargin = () =>\n  <Box\n    component={Grid}\n    display={{\n      md: 'block',\n      xs: 'none'\n    }} />;\n","import { createStyles, makeStyles } from '@material-ui/styles';\n\nexport const useStyles = makeStyles(createStyles({\n  container: {\n    padding: '2vh 2vw'\n  }\n}));\n","import { Grid } from '@material-ui/core';\nimport { FC } from 'react';\nimport { BoxMargin } from './BoxMargin';\nimport { useStyles } from './hooks';\n\nexport const Container: FC = ({ children }) => {\n\n  const styles = useStyles();\n\n  return <Grid\n    container\n    alignItems='center'\n    justify='center'\n    spacing={0}\n    className={styles.container} >\n    <BoxMargin />\n    <Grid\n      item\n      md={10}\n      xs={12}>\n      {children}\n    </Grid>\n    <BoxMargin />\n  </Grid >;\n};\n","import { FC } from 'react';\nimport { Grid, GridSize, GridItemsAlignment } from '@material-ui/core';\n\ninterface Params {\n  xs?: boolean | GridSize,\n  alignItems?: GridItemsAlignment\n}\n\nexport const GridItem : FC<Params> = ({ xs, alignItems, children }) => {\n\n  return (\n    <Grid\n      container\n      item\n      xs={xs}\n      direction='column'\n      justify='flex-start'\n      alignItems={alignItems || 'center'}>\n      {children}\n    </Grid>\n  );\n};\n","import { createStyles, makeStyles } from '@material-ui/styles';\n\nexport const useStyles = makeStyles(createStyles({\n  joinRooomButton: {\n    marginTop: '16px'\n  }\n}));\n","import { useCallback, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, TextField, Grid, Typography } from '@material-ui/core';\nimport { buildCreateRoomEvent, Data } from '../../shared/model';\nimport { GridItem } from './GridItem';\nimport { useStyles } from './hooks';\n\ninterface Params {\n  data: Data\n}\n\nexport const Home = ({ data }: Params) => {\n\n  const { connected, user, subjects } = data;\n  const [roomNumber, setRoomNumber] = useState<string>();\n\n  const history = useHistory();\n  \n  const joinRoom = useCallback(() => {\n    history.push(`/${roomNumber}`);\n  }, [history, roomNumber]);\n\n  const sendCreateRoomEvent = () => {\n    user && subjects.$out.next(buildCreateRoomEvent(user));\n  };\n\n  const validateRoomNumber = useCallback((roomNum?: string) => {\n\n    if (!roomNum) {\n      return false;\n    }\n\n    if (roomNum.length !== 8) {\n      return false;\n    }\n\n    if (isNaN(parseInt(roomNum))) {\n      return false;\n    }\n\n    return true;\n  }, []);\n\n  const classes = useStyles();\n\n  const joinRoomButtonDisabled = !connected || !user || !validateRoomNumber(roomNumber);\n\n  return (\n    <Grid\n      container\n      spacing={2}\n      alignItems='center'\n      style={{ flexGrow: 0 }}>\n      <GridItem\n        xs={6}\n        alignItems='flex-end'>\n        <TextField\n          id='roomNumber'\n          label='Room number'\n          inputProps={{\n            maxLength: '8'\n          }}\n          onChange={event => setRoomNumber(event.target.value)} />\n      </GridItem>\n      <GridItem\n        xs={6}\n        alignItems='flex-start'>\n        <Button\n          variant='contained'\n          color='primary'\n          disabled={joinRoomButtonDisabled}\n          onClick={joinRoom}\n          className={classes.joinRooomButton}>Join Room</Button>\n      </GridItem>\n      <GridItem xs={12}>\n        <Typography>Or</Typography>\n      </GridItem>\n      <GridItem xs={12}>\n        <Button\n          variant='contained'\n          color='primary'\n          disabled={!connected || !user}\n          onClick={sendCreateRoomEvent}>Create room</Button>\n      </GridItem>\n    </Grid >\n  );\n};\n","import { useCallback, useMemo } from 'react';\nimport { EventType, Event } from '../../../shared/model';\nimport { CallbackHookParams, EventCallback } from '../types';\nimport { useAttendeeVotedCallback } from './useAttendeeVotedCallback';\nimport { useRoomCreatedCallback } from './useRoomCreatedCallback';\nimport { useUserCreatedCallback } from './useUserCreatedCallback';\nimport { useCheckRoomExistsCallback } from './useCheckRoomExistsCallback';\nimport { useMaxUsersReachedCallback } from './useMaxUsersReachedCallback';\nimport { useResetRoomCallback } from './useResetRoomCallback';\nimport { useRevealVotesCallback } from './useRevealVotesCallback';\nimport { useUserDroppedCallback } from './useUserDroppedCallbac';\nimport { useUserJoinedCallback } from './useUserJoinedCallback';\n\ntype EventsCallbacks = { [key in EventType]?: EventCallback<any> };\n\nexport const useEventsCallback = (params: CallbackHookParams) => {\n  const attendeeVotedCallback = useAttendeeVotedCallback(params);\n  const roomCreatedCallback = useRoomCreatedCallback(params);\n  const userCreatedCallback = useUserCreatedCallback(params);\n  const checkRoomExistsCallback = useCheckRoomExistsCallback(params);\n  const maxUsersReachedCallback = useMaxUsersReachedCallback(params);\n  const userJoinedCallback = useUserJoinedCallback(params);\n  const userDroppedCallback = useUserDroppedCallback(params);\n  const revealVotesCallback = useRevealVotesCallback(params);\n  const resetRoomCallback = useResetRoomCallback(params);\n\n  const callbacks = useMemo(() => {\n    return {\n      [EventType.UserCreated]: userCreatedCallback,\n      [EventType.CheckRoomExists]: checkRoomExistsCallback,\n      [EventType.AttendeeVoted]: attendeeVotedCallback,\n      [EventType.RoomCreated]: roomCreatedCallback,\n      [EventType.ResetRoom]: resetRoomCallback,\n      [EventType.RevealVotes]: revealVotesCallback,\n      [EventType.UserDropped]: userDroppedCallback,\n      [EventType.UserJoined]: userJoinedCallback,\n      [EventType.MaxUsersReached]: maxUsersReachedCallback\n    } as EventsCallbacks;\n  }, [attendeeVotedCallback,\n    roomCreatedCallback,\n    userCreatedCallback,\n    checkRoomExistsCallback,\n    maxUsersReachedCallback,\n    userJoinedCallback,\n    userDroppedCallback,\n    revealVotesCallback,\n    resetRoomCallback\n  ]);\n\n  return useCallback((event: Event) => {\n    console.log(`Received event \"${event.type}\".`);\n    const callback = callbacks[event.type];\n    if (!callback) {\n      console.log(`[ERROR] Don't know how to handle \"${event.type}\" event.`);\n      return;\n    }\n    callback(event);\n  }, [callbacks]);\n};\n","import { useCallback } from 'react';\nimport { AttendeeVotedEvent, removeUserFromAttendees, Room } from '../../../shared/model';\nimport { CallbackHookParams } from '../types';\n\nexport const useAttendeeVotedCallback = ([data, setData]: CallbackHookParams) => {\n  return useCallback((event: AttendeeVotedEvent) => {\n    if (data.room?.attendees && event.payload) {\n      const attendees = [event.payload.attendee, ...removeUserFromAttendees(event.payload.attendee.user, data.room?.attendees)];\n      setData(previousState => {\n        return {\n          ...previousState,\n          room: {\n            ...previousState.room,\n            votingStatus: event.payload?.votingStatus,\n            attendees\n          } as Room\n        };\n      });\n    }\n  }, [data.room]);\n};\n","import { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { RoomCreatedEvent } from '../../../shared/model';\nimport { CallbackHookParams } from '../types';\n\nexport const useRoomCreatedCallback = ([, setData]: CallbackHookParams) => {\n  const history = useHistory();\n  return useCallback((event: RoomCreatedEvent) => {\n    if (event.payload) {\n      setData(previousState => {\n        return {\n          ...previousState,\n          room: event.payload?.room,\n          attendee: event.payload?.room.attendees[0]\n        };\n      });\n      history.push(`/${event.payload.room.id}`);\n    }\n  }, [history]);\n};\n","import { useCallback } from 'react';\nimport { UserCreatedEvent } from '../../../shared/model';\nimport { CallbackHookParams } from '../types';\n\nexport const useUserCreatedCallback = ([, setData]: CallbackHookParams) => {\n  return useCallback((event: UserCreatedEvent) => {\n    if (event.payload) {\n      setData(previousState => {\n        return {\n          ...previousState,\n          user: event.payload?.user\n        };\n      });\n    }\n  }, []);\n};\n","import { useCallback } from 'react';\nimport { useHistory } from 'react-router';\nimport { CheckRoomExistsEvent } from '../../../shared/model';\nimport { CallbackHookParams } from '../types';\n\nexport const useCheckRoomExistsCallback = ([data, setData]: CallbackHookParams) => {\n  const history = useHistory();\n  return useCallback((event: CheckRoomExistsEvent) => {\n    if (event.payload) {\n      if (!event.payload.exists) {\n        setData(previousState => {\n          return {\n            ...previousState,\n            room: undefined\n          };\n        });\n        history.push('/');\n      } else {\n        setData(previousState => {\n          return {\n            ...previousState,\n            room: event.payload?.room\n          };\n        });\n      }\n    }\n  }, [history, data.room]);\n};\n","import { useCallback } from 'react';\nimport { CallbackHookParams } from '../types';\n\nexport const useMaxUsersReachedCallback = ([data]: CallbackHookParams) => {\n  return useCallback(() => {\n    data.subjects.$connected.next(false);\n  }, []);\n};\n","import { useCallback } from 'react';\nimport { UserJoinedEvent } from '../../../shared/model';\nimport { CallbackHookParams } from '../types';\n\nexport const useUserJoinedCallback = ([data, setData]: CallbackHookParams) => {\n  return useCallback((event: UserJoinedEvent) => {\n    if (data.room && event.payload && data.room.id === event.payload.room.id) {\n      setData(previousState => {\n        return {\n          ...previousState,\n          room: event.payload?.room\n        };\n      });\n      if (!data.attendee) {\n        const roomAttendee = event.payload.room.attendees.find(att => att?.user.id === data.user?.id);\n        if (roomAttendee) {\n          setData(previousState => {\n            return {\n              ...previousState,\n              attendee: roomAttendee\n            };\n          });\n        }\n      }\n    }\n  }, [data.room, data.attendee, data.user]);\n};\n","import { useCallback } from 'react';\nimport { Room, UserDroppedEvent } from '../../../shared/model';\nimport { CallbackHookParams } from '../types';\n\nexport const useUserDroppedCallback = ([data, setData]: CallbackHookParams) => {\n  return useCallback((event: UserDroppedEvent) => {\n    if (data.room && event.payload) {\n      const remainingAttendees = data.room.attendees\n        .filter(attendee => attendee.user.id !== event.payload?.user.id);\n      setData(previousState => {\n        return {\n          ...previousState,\n          room: {\n            ...previousState.room,\n            attendees: remainingAttendees\n          } as Room\n        };\n      });\n    }\n  }, [data.room]);\n};\n","import { useCallback } from 'react';\nimport { Room, VotingStatus } from '../../../shared/model';\nimport { CallbackHookParams } from '../types';\n\nexport const useRevealVotesCallback = ([, setData]: CallbackHookParams) => {\n  return useCallback(() => {\n    setData(previousState => {\n      return {\n        ...previousState,\n        room: {\n          ...previousState.room,\n          votingStatus: VotingStatus.Closed\n        } as Room\n      };\n    });\n  }, []);\n};\n","import { useCallback } from 'react';\nimport { ResetRoomEvent } from '../../../shared/model';\nimport { CallbackHookParams } from '../types';\n\nexport const useResetRoomCallback = ([, setData]: CallbackHookParams) => {\n  return useCallback((event: ResetRoomEvent) => {\n    if (event.payload) {\n      setData(previousState => {\n        return {\n          ...previousState,\n          room: event.payload?.room\n        };\n      });\n    }\n  }, []);\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { Subscription } from 'rxjs';\nimport { useWebSocketCallbacks } from './useWebSocketCallbacks';\nimport { CallbackHookParams } from './types';\nimport { toast as showToast, ToastOptions } from 'react-toastify';\nimport { Toast, ToastType } from '../../shared/model';\n\ninterface Subscriptions {\n  connection?: Subscription,\n  events?: Subscription,\n  toasts?: Subscription\n}\n\nconst toastOptions: ToastOptions = {\n  position: 'top-right',\n  autoClose: 3000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: false,\n  progress: undefined\n};\n\nexport const useSubscriptions = (params: CallbackHookParams) => {\n\n  const [subscriptions, setSubscriptions] = useState<Subscriptions>();\n  const [eventsCallback, connectionCallback] = useWebSocketCallbacks(params);\n  const toastsCallback = useCallback((toast: Toast) => {\n    switch (toast.type) {\n      case ToastType.INFORMATION: {\n        showToast.info(toast.message, toastOptions);\n        break;\n      }\n      case ToastType.ERROR: {\n        showToast.error(toast.message, toastOptions);\n        break;\n      }\n      case ToastType.WARNING: {\n        showToast.warn(toast.message, toastOptions);\n        break;\n      }\n      default:\n        showToast(toast.message, toastOptions);\n    }\n  }, []);\n  const [data] = params;\n\n  useEffect(() => {\n    subscriptions?.events?.unsubscribe();\n    subscriptions?.connection?.unsubscribe();\n    subscriptions?.toasts?.unsubscribe();\n\n    const events = data.subjects.$in.subscribe(eventsCallback);\n    const connection = data.subjects.$connected.subscribe(connectionCallback);\n    const toasts = data.subjects.$toast.subscribe(toastsCallback);\n\n    setSubscriptions({\n      events,\n      connection,\n      toasts\n    });\n\n    return () => {\n      subscriptions?.events?.unsubscribe();\n      subscriptions?.connection?.unsubscribe();\n    };\n  }, [eventsCallback, connectionCallback]);\n};\n","import { useCallback } from 'react';\nimport { Event, ToastType } from '../../shared/model';\nimport { useEventsCallback } from './events-callback';\nimport { CallbackHookParams } from './types';\n\nexport const useWebSocketCallbacks = (params: CallbackHookParams):\n[(event: Event) => void, (conn: boolean) => void] => {\n\n  const [data, setData] = params;\n  const connectionCallback = useCallback((connected: boolean) => {\n    if (data.connected) {\n      if (!connected) {\n        data.subjects.$toast.next({\n          message: 'Disconnected from server.',\n          type: ToastType.WARNING\n        });\n      }\n    } else {\n      if (!connected) {\n        data.subjects.$toast.next({\n          message: 'Could not connect with server.',\n          type: ToastType.ERROR\n        });\n      }\n    }\n    setData(previousState => {\n      return {\n        ...previousState,\n        connected\n      };\n    });\n  }, []);\n\n  const eventsCallback = useEventsCallback(params);\n\n  return [eventsCallback, connectionCallback];\n};\n","import { DependencyList, useCallback, useState } from 'react';\n\nexport const useUpdateState = (deps: DependencyList) => {\n  const [, updateState] = useState<Object>();\n  useCallback(() => {\n    updateState({});\n  }, [deps]);\n};\n","import { makeStyles, createStyles } from '@material-ui/core';\n\nexport const useStyles = makeStyles(createStyles({\n  muiSlider: {\n    padding: '4px 0px'\n  },\n  typography: {\n    fontSize: '0.8rem'\n  },\n  muiSliderGridItem: {\n    padding: '4px 0px'\n  }\n}));\n","import { Grid, Slider as MuiSlider, Typography } from '@material-ui/core';\nimport { useUpdateState } from '../../../../../shared/hooks';\nimport { useStyles } from './hooks';\n\ninterface Props {\n  label: string,\n  value: number,\n  hide?: boolean\n}\n\nexport const Slider = ({ label, value, hide }: Props) => {\n  const styles = useStyles();\n\n  useUpdateState([value, hide]);\n\n  if (hide) {\n    return <></>;\n  }\n\n  return <Grid\n    container\n    alignItems='center'\n    spacing={2}>\n    <Grid\n      item\n      xs={3}>\n      <Typography\n        align='right'\n        className={styles.typography}>\n        {label}:\n      </Typography>\n    </Grid>\n    <Grid\n      item\n      xs={7}\n      className={styles.muiSliderGridItem}>\n      <MuiSlider\n        key={`${label}-${value}-${String(hide)}`}\n        disabled\n        marks\n        min={0}\n        max={6}\n        defaultValue={value}\n        className={styles.muiSlider} />\n    </Grid>\n    <Grid\n      item\n      xs={2}>\n      <Typography\n        align='left'\n        className={styles.typography} >\n        {value}\n      </Typography>\n    </Grid>\n  </Grid>;\n};\n","import { makeStyles, createStyles, lighten } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles(theme => createStyles({\n  attendeeCard: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center'\n  },\n  attendeeCardContent: {\n    padding: '4px',\n    minHeight: '48px',\n    '&:last-child': {\n      paddingBottom: '4px'\n    }\n  },\n  currentUser: {\n    background: theme.palette.primary.dark\n  },\n  currentUserVoted: {\n    background: lighten(theme.palette.primary.dark, 0.2)\n  },\n  otherUserVoted: {\n    background: lighten(theme.palette.background.paper, 0.2)\n  },\n  iconTypography: {\n    fontSize: '1.5rem'\n  }\n}));\n","import { useMemo } from 'react';\nimport { Card, CardContent, Grid, Typography } from '@material-ui/core';\nimport { Attendee as AttendeeModel, Room, User, VotingStatus } from '../../../../shared/model';\nimport { useUpdateState } from '../../../../shared/hooks';\nimport { Slider } from './slider';\nimport { useStyles } from './hooks';\n\ninterface Props {\n  user: User,\n  room: Room,\n  attendee: AttendeeModel\n}\n\nexport const Attendee = ({ user, room, attendee }: Props) => {\n\n  const styles = useStyles();\n\n  useUpdateState([user, room, attendee]);\n\n  const hideSlider = useMemo(() =>\n    (attendee.user.id !== user.id &&\n      room.votingStatus === VotingStatus.Open) ||\n    !attendee.vote,\n  [attendee, room.votingStatus]);\n\n  let cardClassName = styles.attendeeCard;\n\n  if (user.id === attendee.user.id) {\n    cardClassName += ` ${attendee.vote ? styles.currentUserVoted : styles.currentUser}`;\n  } else if (attendee.vote) {\n    cardClassName += ` ${styles.otherUserVoted}`;\n  }\n\n  return (\n    <Card\n      className={cardClassName} >\n      <CardContent className={styles.attendeeCardContent}>\n        <Grid\n          container>\n          <Grid\n            container\n            item\n            alignContent='center'\n            justify='center'\n            xs={2}>\n            <Typography\n              align='left'\n              className={styles.iconTypography} >\n              {attendee.icon}\n            </Typography>\n          </Grid>\n          <Grid\n            container\n            item\n            xs={10}>\n            <Slider\n              label='Effort'\n              hide={hideSlider}\n              value={attendee.vote?.effort || 0} />\n            <Slider\n              label='Value'\n              hide={hideSlider}\n              value={attendee.vote?.value || 0} />\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n","import { Grid } from '@material-ui/core';\nimport { useUpdateState } from '../../../shared/hooks';\nimport { sortByJoinedAtWithCurrentUserFirst, User, Room } from '../../../shared/model';\nimport { Attendee } from './attendee';\n\ninterface Props {\n  room: Room,\n  user: User\n}\n\nexport const Attendees = ({ room, user }: Props) => {\n\n  useUpdateState([room, user]);\n\n  return (\n    <Grid\n      container\n      alignItems='flex-start'\n      justify='flex-start'\n      spacing={1} >\n      {\n        sortByJoinedAtWithCurrentUserFirst(room.attendees, user)\n          .map((attendee, index) =>\n            <Grid\n              item\n              key={`attendee-grid-${index}`}\n              xs={12}>\n              <Attendee\n                user={user}\n                room={room}\n                attendee={attendee} />\n            </Grid>)\n      }\n    </Grid >\n  );\n};\n","import { Button, Grid } from '@material-ui/core';\nimport { useMemo } from 'react';\nimport { Data, VotingStatus } from '../../../shared/model';\nimport { useButtonsCallback } from './hooks';\n\ninterface Props {\n  data: Data\n}\n\nexport const Controls = ({ data }: Props) => {\n\n  const { onResetButtonClick, onRevealButtonClick } = useButtonsCallback(data);\n\n  const noVotes = useMemo(() => {\n    if (!data.room?.attendees) {\n      return false;\n    }\n\n    return data.room\n      .attendees\n      .filter(attendee => attendee.vote)\n      .length === 0;\n  }, [data.room?.attendees]);\n\n  return (\n    <Grid\n      container>\n      <Grid\n        item\n        xs={2} />\n      <Grid\n        item\n        xs={2}>\n        <Button\n          variant='contained'\n          onClick={onResetButtonClick}>\n          Reset\n        </Button>\n      </Grid>\n      <Grid\n        item\n        xs={2}>\n        <Button\n          variant='contained'\n          disabled={noVotes || data.room?.votingStatus === VotingStatus.Closed}\n          onClick={onRevealButtonClick}>\n          Reveal\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n","import { useCallback } from 'react';\nimport { buildResetRoomEvent, buildRevealVotesEvent, Data } from '../../../../shared/model';\n\ninterface Return {\n  onResetButtonClick: () => void,\n  onRevealButtonClick: () => void\n}\n\ntype Hook = (data: Data) => Return;\n\nexport const useButtonsCallback: Hook = (data) => {\n  const onResetButtonClick = useCallback(() => {\n    data.subjects.$out.next(buildResetRoomEvent());\n  }, [data]);\n\n  const onRevealButtonClick = useCallback(() => {\n    data.subjects.$out.next(buildRevealVotesEvent());\n  }, [data]);\n\n  return {\n    onResetButtonClick,\n    onRevealButtonClick\n  };\n};\n","import { useCallback } from 'react';\nimport { ChartPoint, ChartEventProps, roundChartPoint } from '../../../../shared/model';\nimport { useThrottledState } from '../../../../shared/hooks';\n\nexport const useOnMouseMoveCallback: () => [ChartPoint | undefined, (props?: ChartEventProps | undefined) => void] = () => {\n  const [suggestedPoint, setSuggestedPoint] = useThrottledState<ChartPoint | undefined>(undefined, 30, true);\n\n  const onMouseMoveCallback = useCallback((props?: ChartEventProps) => {\n    if (props) {\n      const { xValue, yValue } = props;\n      setSuggestedPoint(roundChartPoint(xValue, yValue));\n    }\n  }, [setSuggestedPoint]);\n\n  return [suggestedPoint, onMouseMoveCallback];\n};\n","import { useThrottleCallback } from '@react-hook/throttle';\nimport { SetStateAction, useState } from 'react';\n\nexport const useThrottledState: <T extends unknown>(initialState: T, fps?: number, leading?: boolean) => [T, (value: SetStateAction<T>) => void] =\n<T extends unknown>(initialState: T, fps?: number, leading?: boolean) => {\n  const [state, unthrottledSetState] = useState<T>(initialState);\n  const setState = useThrottleCallback(unthrottledSetState, fps, leading);\n\n  return [state, setState];\n};\n","import { createStyles, makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles(theme => createStyles({\n  responsiveContainer: {\n    borderRadius: '10px',\n    background: theme.palette.grey[800]\n  }\n}));\n","const domainValues = {\n  min: 0,\n  max: 6\n};\n\nexport const mediumPoint = (domainValues.min + domainValues.max) / 2;\n\nexport const domainLimits = [domainValues.min, domainValues.max];\n\nexport const axisTicks = Array.from({ length: domainValues.max }, (_, index) => index)\n  .filter(value => value !== mediumPoint);\n","import { TooltipProps } from 'recharts';\nimport { NameType, ValueType } from 'recharts/types/component/DefaultTooltipContent';\nimport { ChartPoint } from '../../../shared/model';\n\ninterface ExtraProps {\n  points: ChartPoint[]\n}\n\ntype Props = TooltipProps<ValueType, NameType> & ExtraProps;\n\nexport const TooltipRenderer = ({ active, payload, points }: Props) => {\n  if (active && payload && payload[0]) {\n    const hoveredPoint = payload[0].payload as ChartPoint;\n\n    const hoveredLabels = points.filter(point =>\n      point.effort === hoveredPoint.effort &&\n      point.value === hoveredPoint.value)\n      .map(point => point.label);\n\n    if (hoveredLabels && hoveredLabels.length > 1) {\n\n      const itemsPerLine = Math.round(Math.sqrt(hoveredLabels.length));\n      const tooltipContent = hoveredLabels.reduce((acc, label, index) => {\n        acc += label;\n        if (index % itemsPerLine === 0) {\n          acc += '\\n';\n        }\n        return acc;\n      });\n\n      return <div style={{\n        backgroundColor: '#0008',\n        fontSize: '0.8rem',\n        letterSpacing: '0.5rem',\n        padding: '0.5rem 0rem 0.5rem 0.5rem',\n        borderRadius: '0.1rem',\n        whiteSpace: 'pre-wrap'\n      }}>\n        {tooltipContent}\n      </div>;\n    }\n  }\n  return <></>;\n};\n","import { Props } from 'recharts/types/component/Label';\n\nexport const VotesLabel = ({ x, y, width, value } : Props) => {\n\n  if (typeof x !== 'number' ||\n    typeof y !== 'number' ||\n    typeof width !== 'number') {\n    return <></>;\n  }\n\n  return (\n    <text\n      x={x + width / 2}\n      y={y + width / 2}\n      width={width}\n      height={width}\n      fill='#fff'\n      textAnchor='middle'\n      fontSize='1.5rem'\n      dominantBaseline='middle'>\n      <tspan>\n        {value}\n      </tspan>\n    </text>\n  );\n};\n","import {\n  CartesianGrid,\n  LabelList,\n  ReferenceLine,\n  ResponsiveContainer,\n  Scatter,\n  ScatterChart,\n  Tooltip,\n  XAxis,\n  YAxis\n} from 'recharts';\nimport { Data, VotingStatus } from '../../../shared/model';\nimport {\n  useCreateMeanPoint,\n  useOnClickCallback,\n  useOnMouseMoveCallback,\n  usePoints,\n  useStyles\n} from './hooks';\nimport { axisTicks, domainLimits, mediumPoint } from './constants';\nimport { useUpdateState } from '../../../shared/hooks';\nimport { TooltipRenderer } from './TooltipRenderer';\nimport { VotesLabel } from './VotesLabel';\nimport { useTheme } from '@material-ui/core';\n\ninterface Props {\n  data: Data\n}\n\n/* Recharts does not allow custom component creation... \\_()_/ */\nexport const EffortValueChart = ({ data }: Props) => {\n\n  const theme = useTheme();\n  const points = usePoints(data);\n  const [suggestedPoint, onMouseMoveCallback] = useOnMouseMoveCallback();\n  const onClickCallback = useOnClickCallback(data);\n  useUpdateState([data.attendee?.vote]);\n  const styles = useStyles();\n  const createMeanPoint = useCreateMeanPoint();\n\n  return (\n    <ResponsiveContainer\n      aspect={1.6}\n      width='100%'\n      className={styles.responsiveContainer}>\n      <ScatterChart\n        margin={{\n          top: 40,\n          bottom: 40,\n          left: 40,\n          right: 40\n        }}\n        onMouseMove={onMouseMoveCallback}\n        onClick={onClickCallback}\n      >\n        <XAxis\n          dataKey='value'\n          type='number'\n          axisLine={false}\n          hide={false}\n          ticks={axisTicks}\n          domain={domainLimits}\n          stroke={theme.palette.primary.dark} />\n        <YAxis\n          dataKey='effort'\n          type='number'\n          axisLine={false}\n          hide={false}\n          ticks={axisTicks}\n          domain={domainLimits}\n          stroke={theme.palette.primary.dark} />\n        <ReferenceLine\n          x={mediumPoint}\n          stroke={theme.palette.primary.dark}\n          strokeWidth={2}\n          label={{\n            position: 'insideBottomLeft',\n            value: 'Effort',\n            fill: theme.palette.primary.dark\n          }}\n        />;\n        <ReferenceLine\n          y={mediumPoint}\n          stroke={theme.palette.primary.dark}\n          strokeWidth={2}\n          label={{\n            position: 'insideBottomLeft',\n            value: 'Value',\n            fill: theme.palette.primary.dark\n          }}\n        />\n        <CartesianGrid\n          strokeDasharray='2 4'\n          stroke={theme.palette.grey[400]} />\n        <Scatter\n          data={points}\n          isAnimationActive={false}\n          strokeOpacity={1}\n          strokeWidth={10}\n          fill=\"#fff\">\n          <LabelList\n            dataKey='label'\n            fontSize='4rem'\n            content={<VotesLabel />}\n          />\n        </Scatter>\n        {data.room?.votingStatus === VotingStatus.Open &&\n          suggestedPoint &&\n          <Scatter\n            data={[suggestedPoint]}\n            shape='cross'\n            rotate={200}\n            strokeWidth={12}\n            strokeOpacity={0.5}\n            fillOpacity={1}\n            fill={theme.palette.secondary.dark}>\n          </Scatter>}\n        {data.room?.votingStatus === VotingStatus.Closed &&\n          <Scatter\n            data={createMeanPoint(points)}\n            shape='cross'\n            rotate={200}\n            strokeWidth={12}\n            strokeOpacity={0.5}\n            fillOpacity={1}\n            fill={theme.palette.primary.dark}>\n          </Scatter>}\n        <Tooltip content={<TooltipRenderer points={points} />} />\n      </ScatterChart>\n    </ResponsiveContainer>\n  );\n};\n","import { useMemo } from 'react';\nimport { createChartPoint, Data, retrieveAttendeeForUser, VotingStatus } from '../../../../shared/model';\n\nexport const usePoints = (data: Data) => {\n  return useMemo(() => {\n    if (data.room?.attendees && data.user) {\n      if (data.room.votingStatus === VotingStatus.Open) {\n        const attendee = retrieveAttendeeForUser(data.room?.attendees, data.user);\n        if (attendee?.vote) {\n          return [createChartPoint(attendee)];\n        }\n      } else {\n        return data.room\n          .attendees\n          .filter(attendee => attendee.vote)\n          .map(attendee => createChartPoint(attendee));\n      }\n    }\n    return [];\n  }, [data.room, data.user]);\n};\n","import { useCallback } from 'react';\nimport {\n  Attendee,\n  buildAttendeeVotedEvent,\n  ChartEventProps,\n  createVote,\n  Data,\n  VotingStatus\n} from '../../../../shared/model';\n\nexport const useOnClickCallback = (data: Data) => {\n  return useCallback((props: ChartEventProps) => {\n    if (props &&\n      data.user &&\n      data.room?.attendees &&\n      data.room.votingStatus === VotingStatus.Open) {\n      const { xValue, yValue } = props;\n      const vote = createVote(xValue, yValue);\n      const attendee = { ...data.attendee, vote } as Attendee;\n      data.subjects.$out.next(buildAttendeeVotedEvent(attendee));\n    }\n  }, [data]);\n};\n","import { useCallback } from 'react';\nimport { ChartPoint } from '../../../../shared/model';\n\nexport const useCreateMeanPoint = () => {\n  return useCallback((points: ChartPoint[]) => {\n    const initialValue = {\n      value: 0,\n      effort: 0,\n      label: 'Mean'\n    };\n    const mean = points.reduce((acc, point) => {\n      acc.effort += point.effort;\n      acc.value += point.value;\n\n      return acc;\n    }, initialValue);\n\n    mean.value /= points.length;\n    mean.effort /= points.length;\n\n    return [mean];\n  }, []);\n};\n","import { Grid } from '@material-ui/core';\nimport { useMemo } from 'react';\nimport { useUpdateState } from '../../shared/hooks';\nimport { Data, retrieveAttendeeForUser } from '../../shared/model';\nimport { Attendees } from './attendees';\nimport { Controls } from './controls';\nimport { EffortValueChart } from './effort-value-chart';\nimport { useEventsCallback } from './hooks';\n\ninterface Params {\n  data: Data\n}\n\nexport const Room = ({ data }: Params) => {\n\n  useUpdateState([data.room]);\n  useEventsCallback(data);\n\n  const roomOwner = useMemo(() => {\n    if (data.room?.attendees && data.user) {\n      const userAttendee = retrieveAttendeeForUser(data.room?.attendees, data.user);\n      return userAttendee?.roomOwner || false;\n    }\n    return false;\n  }, [data]);\n\n  return (\n    <Grid\n      container\n      direction='row'\n      spacing={1}>\n      <Grid\n        item\n        xs={9}>\n        <EffortValueChart data={data} />\n      </Grid>\n      <Grid\n        item\n        xs={3}>\n        <>\n          {\n            data.user &&\n            data.room &&\n            <Attendees\n              user={data.user}\n              room={data.room} />\n          }\n        </>\n      </Grid>\n      <Grid\n        item\n        xs={12}>\n        {roomOwner && <Controls data={data} />}\n      </Grid>\n    </Grid>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { Subscription } from 'rxjs';\nimport {\n  buildCheckRoomExists,\n  buildJoinUserEvent,\n  CheckRoomExistsPayload,\n  Data,\n  Event,\n  EventType,\n  Room\n} from '../../../shared/model';\n\nexport const useEventsCallback = (data: Data) => {\n\n  const [eventsSubscription, setEventsSubscription] = useState<Subscription>();\n  const { roomId } = useParams<{ roomId: string }>();\n\n  const { connected, user, subjects } = data;\n  const eventsCallback = useCallback((event: Event) => {\n    if (event.type === EventType.CheckRoomExists) {\n      const payload = event.payload as CheckRoomExistsPayload;\n      if (user && payload && payload.exists) {\n        subjects.$out.next(buildJoinUserEvent(user, payload.room));\n      }\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (connected && user) {\n      eventsSubscription?.unsubscribe();\n      setEventsSubscription(subjects.$in.subscribe(eventsCallback));\n\n      subjects.$out.next(buildCheckRoomExists({\n        id: parseInt(roomId)\n      } as Room));\n      return () => eventsSubscription?.unsubscribe();\n    }\n  }, [connected, user, roomId]);\n};\n","import { Typography } from '@material-ui/core';\n\nexport const Title = () =>\n  <Typography\n    variant='h2'\n    align='center'\n    style={{\n      textDecoration: 'underline',\n      textShadow: '0px 0px 4px #888'\n    }}>\n    Pitanga\n  </Typography>;\n","import { Grid } from '@material-ui/core';\nimport { Switch, Route } from 'react-router-dom';\nimport { Container } from './container';\nimport { Home } from './home';\nimport { useSubscriptions, useDataState } from './hooks';\nimport { Room } from './room';\nimport { Title } from './Title';\n\nexport function App() {\n\n  const dataState = useDataState();\n  useSubscriptions(dataState);\n  const [data] = dataState;\n\n  return (\n    <Container>\n      <Grid\n        container\n        direction='row'\n        spacing={1}>\n        <Grid\n          item\n          xs={12}>\n          <Title />\n        </Grid>\n        <Grid\n          item\n          xs={12}>\n          <Switch>\n            <Route path='/:roomId'>\n              <Room data={data} />\n            </Route>\n            <Route path='/'>\n              <Home data={data} />\n            </Route>\n          </Switch>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n","import { useWebSocketSubjects } from './useWebSocketSubjects';\nimport { Data } from '../../shared/model';\nimport { useState } from 'react';\n\nexport const useDataState = () => {\n\n  const subjects = useWebSocketSubjects();\n\n  return useState<Data>({\n    connected: false,\n    subjects\n  });\n};\n","import { render } from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport '@fontsource/roboto';\nimport { ThemeController } from './theme-controller';\nimport { App } from './app';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nrender(\n  <BrowserRouter>\n    <ThemeController>\n      <App />\n    </ThemeController>\n    <ToastContainer\n      position=\"bottom-right\" />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}